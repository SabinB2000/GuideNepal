{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Link,useLocation,useNavigate}from\"react-router-dom\";import{useAuth}from\"../contexts/AuthContext\";import{FiHome,FiCalendar,FiCompass,FiMap,FiGlobe,FiStar,FiUser,FiLogOut,FiChevronLeft,FiChevronRight}from\"react-icons/fi\";import{motion}from\"framer-motion\";import\"../styles/Sidebar.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Sidebar(){var _user$name;const{user,logout}=useAuth();const location=useLocation();const navigate=useNavigate();const[isOpen,setIsOpen]=useState(true);const[hoveredItem,setHoveredItem]=useState(null);// 1️⃣ Sync a class on <body> so .main-content can slide\nuseEffect(()=>{document.body.classList.toggle(\"sidebar-collapsed\",!isOpen);},[isOpen]);const handleLogout=()=>{logout();navigate(\"/\",{replace:true});};const isActive=path=>location.pathname===path||location.pathname.startsWith(path+\"/\");const menuItems=[{path:\"/dashboard\",icon:FiHome,label:\"Dashboard\"},{path:\"/itinerary\",icon:FiCalendar,label:\"Itinerary\"},{path:\"/explore\",icon:FiCompass,label:\"Explore\"},{path:\"/map\",icon:FiMap,label:\"Map\"},{path:\"/translate\",icon:FiGlobe,label:\"Translate\"},{path:\"/reviews\",icon:FiStar,label:\"Reviews\"},{path:\"/profile\",icon:FiUser,label:\"Profile\"}];return/*#__PURE__*/_jsxs(motion.div,{className:\"sidebar \".concat(isOpen?\"expanded\":\"collapsed\"),initial:{x:-300},animate:{x:0},transition:{type:\"spring\",stiffness:300,damping:30},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-header\",children:[isOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-avatar\",children:(user===null||user===void 0?void 0:(_user$name=user.name)===null||_user$name===void 0?void 0:_user$name.charAt(0))||\"U\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-details\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Hello, \",(user===null||user===void 0?void 0:user.name)||\"User\"]}),/*#__PURE__*/_jsx(\"p\",{children:(user===null||user===void 0?void 0:user.email)||\"Welcome back!\"})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"toggle-btn\",onClick:()=>setIsOpen(!isOpen),\"aria-label\":isOpen?\"Collapse sidebar\":\"Expand sidebar\",children:isOpen?/*#__PURE__*/_jsx(FiChevronLeft,{}):/*#__PURE__*/_jsx(FiChevronRight,{})})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"menu-list\",children:menuItems.map((item,idx)=>/*#__PURE__*/_jsx(motion.li,{className:isActive(item.path)?\"active\":\"\",whileHover:{scale:1.05},onHoverStart:()=>setHoveredItem(idx),onHoverEnd:()=>setHoveredItem(null),children:/*#__PURE__*/_jsxs(Link,{to:item.path,children:[/*#__PURE__*/_jsx(item.icon,{className:\"icon\"}),isOpen&&/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:item.label}),!isOpen&&hoveredItem===idx&&/*#__PURE__*/_jsx(motion.span,{className:\"tooltip\",initial:{opacity:0},animate:{opacity:1},children:item.label})]})},item.path))}),/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-footer\",children:/*#__PURE__*/_jsxs(motion.button,{className:\"logout-btn\",onClick:handleLogout,whileHover:{scale:1.03},whileTap:{scale:0.97},children:[/*#__PURE__*/_jsx(FiLogOut,{className:\"icon\"}),isOpen&&/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Logout\"})]})})]});}","map":{"version":3,"names":["React","useState","useEffect","Link","useLocation","useNavigate","useAuth","FiHome","FiCalendar","FiCompass","FiMap","FiGlobe","FiStar","FiUser","FiLogOut","FiChevronLeft","FiChevronRight","motion","jsx","_jsx","jsxs","_jsxs","Sidebar","_user$name","user","logout","location","navigate","isOpen","setIsOpen","hoveredItem","setHoveredItem","document","body","classList","toggle","handleLogout","replace","isActive","path","pathname","startsWith","menuItems","icon","label","div","className","concat","initial","x","animate","transition","type","stiffness","damping","children","name","charAt","email","onClick","map","item","idx","li","whileHover","scale","onHoverStart","onHoverEnd","to","span","opacity","button","whileTap"],"sources":["C:/Users/sabin/OneDrive/Desktop/GUIDE NEAPL/GuideNepal/client/src/components/Sidebar.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\nimport {\r\n  FiHome, FiCalendar, FiCompass, FiMap, FiGlobe,\r\n  FiStar, FiUser, FiLogOut, FiChevronLeft, FiChevronRight\r\n} from \"react-icons/fi\";\r\nimport { motion } from \"framer-motion\";\r\nimport \"../styles/Sidebar.css\";\r\n\r\nexport default function Sidebar() {\r\n  const { user, logout } = useAuth();\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const [isOpen, setIsOpen] = useState(true);\r\n  const [hoveredItem, setHoveredItem] = useState(null);\r\n\r\n  // 1️⃣ Sync a class on <body> so .main-content can slide\r\n  useEffect(() => {\r\n    document.body.classList.toggle(\"sidebar-collapsed\", !isOpen);\r\n  }, [isOpen]);\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n    navigate(\"/\", { replace: true });\r\n  };\r\n\r\n  const isActive = (path) =>\r\n    location.pathname === path || location.pathname.startsWith(path + \"/\");\r\n\r\n  const menuItems = [\r\n    { path: \"/dashboard\", icon: FiHome, label: \"Dashboard\" },\r\n    { path: \"/itinerary\", icon: FiCalendar, label: \"Itinerary\" },\r\n    { path: \"/explore\", icon: FiCompass, label: \"Explore\" },\r\n    { path: \"/map\", icon: FiMap, label: \"Map\" },\r\n    { path: \"/translate\", icon: FiGlobe, label: \"Translate\" },\r\n    { path: \"/reviews\", icon: FiStar, label: \"Reviews\" },\r\n    { path: \"/profile\", icon: FiUser, label: \"Profile\" },\r\n  ];\r\n\r\n  return (\r\n    <motion.div\r\n      className={`sidebar ${isOpen ? \"expanded\" : \"collapsed\"}`}\r\n      initial={{ x: -300 }}\r\n      animate={{ x: 0 }}\r\n      transition={{ type: \"spring\", stiffness: 300, damping: 30 }}\r\n    >\r\n      <div className=\"sidebar-header\">\r\n        {isOpen && (\r\n          <div className=\"user-info\">\r\n            <div className=\"user-avatar\">\r\n              {user?.name?.charAt(0) || \"U\"}\r\n            </div>\r\n            <div className=\"user-details\">\r\n              <h3>Hello, {user?.name || \"User\"}</h3>\r\n              <p>{user?.email || \"Welcome back!\"}</p>\r\n            </div>\r\n          </div>\r\n        )}\r\n        <button\r\n          className=\"toggle-btn\"\r\n          onClick={() => setIsOpen(!isOpen)}\r\n          aria-label={isOpen ? \"Collapse sidebar\" : \"Expand sidebar\"}\r\n        >\r\n          {isOpen ? <FiChevronLeft /> : <FiChevronRight />}\r\n        </button>\r\n      </div>\r\n\r\n      <ul className=\"menu-list\">\r\n        {menuItems.map((item, idx) => (\r\n          <motion.li\r\n            key={item.path}\r\n            className={isActive(item.path) ? \"active\" : \"\"}\r\n            whileHover={{ scale: 1.05 }}\r\n            onHoverStart={() => setHoveredItem(idx)}\r\n            onHoverEnd={() => setHoveredItem(null)}\r\n          >\r\n            <Link to={item.path}>\r\n              <item.icon className=\"icon\" />\r\n              {isOpen && <span className=\"label\">{item.label}</span>}\r\n              {!isOpen && hoveredItem === idx && (\r\n                <motion.span\r\n                  className=\"tooltip\"\r\n                  initial={{ opacity: 0 }}\r\n                  animate={{ opacity: 1 }}\r\n                >\r\n                  {item.label}\r\n                </motion.span>\r\n              )}\r\n            </Link>\r\n          </motion.li>\r\n        ))}\r\n      </ul>\r\n\r\n      <div className=\"sidebar-footer\">\r\n        <motion.button\r\n          className=\"logout-btn\"\r\n          onClick={handleLogout}\r\n          whileHover={{ scale: 1.03 }}\r\n          whileTap={{ scale: 0.97 }}\r\n        >\r\n          <FiLogOut className=\"icon\" />\r\n          {isOpen && <span className=\"label\">Logout</span>}\r\n        </motion.button>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}