{"ast":null,"code":"import _objectSpread from\"C:/Users/sabin/OneDrive/Desktop/GUIDE NEAPL/GuideNepal/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/pages/vendor/Dashboard.js\nimport React,{useEffect,useState}from\"react\";import axiosInstance from\"../../utils/axiosConfig\";import VendorSidebar from\"../../components/VendorSidebar\";import\"../../styles/VendorPage.css\";import\"../../styles/VendorDashboard.css\";import{Link}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function VendorDashboard(){const[stats,setStats]=useState({pendingPlaces:0,approvedPlaces:0,pendingEvents:0,approvedEvents:0,recentPlaces:[]});useEffect(()=>{const token=localStorage.getItem(\"token\");if(!token){// Optionally, navigate to the login page if no token is found:\n// navigate('/vendor/login') or show an error message.\nreturn;}axiosInstance.get(\"/vendor/dashboard\").then(res=>{setStats(prev=>_objectSpread(_objectSpread({},prev),res.data));}).catch(err=>{console.error(\"Vendor dashboard error:\",err);// Optionally, show a user-friendly message if needed:\n// Swal.fire(\"Error\", \"Could not load vendor dashboard\", \"error\");\n});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"vendor-page\",children:[/*#__PURE__*/_jsx(VendorSidebar,{onLogout:()=>{/* clear user state via context logout */}}),/*#__PURE__*/_jsxs(\"div\",{className:\"vendor-content\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome, Vendor!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"vd-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"vd-card pending\",children:[/*#__PURE__*/_jsx(\"h2\",{children:stats.pendingPlaces}),/*#__PURE__*/_jsx(\"p\",{children:\"Places Pending\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"vd-card approved\",children:[/*#__PURE__*/_jsx(\"h2\",{children:stats.approvedPlaces}),/*#__PURE__*/_jsx(\"p\",{children:\"Places Approved\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"vd-card pending\",children:[/*#__PURE__*/_jsx(\"h2\",{children:stats.pendingEvents}),/*#__PURE__*/_jsx(\"p\",{children:\"Events Pending\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"vd-card approved\",children:[/*#__PURE__*/_jsx(\"h2\",{children:stats.approvedEvents}),/*#__PURE__*/_jsx(\"p\",{children:\"Events Approved\"})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"vd-recent\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Recent Places\"}),stats.recentPlaces.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No places yet.\"}):/*#__PURE__*/_jsx(\"ul\",{children:stats.recentPlaces.map(place=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/vendor/places/\".concat(place._id),children:place.title}),/*#__PURE__*/_jsx(\"span\",{className:\"status \".concat(place.status),children:place.status})]},place._id))})]})]})]});}","map":{"version":3,"names":["React","useEffect","useState","axiosInstance","VendorSidebar","Link","jsx","_jsx","jsxs","_jsxs","VendorDashboard","stats","setStats","pendingPlaces","approvedPlaces","pendingEvents","approvedEvents","recentPlaces","token","localStorage","getItem","get","then","res","prev","_objectSpread","data","catch","err","console","error","className","children","onLogout","length","map","place","to","concat","_id","title","status"],"sources":["C:/Users/sabin/OneDrive/Desktop/GUIDE NEAPL/GuideNepal/client/src/pages/vendor/Dashboard.js"],"sourcesContent":["// src/pages/vendor/Dashboard.js\r\nimport React, { useEffect, useState } from \"react\";\r\nimport axiosInstance from \"../../utils/axiosConfig\";\r\nimport VendorSidebar from \"../../components/VendorSidebar\";\r\nimport \"../../styles/VendorPage.css\";\r\nimport \"../../styles/VendorDashboard.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function VendorDashboard() {\r\n  const [stats, setStats] = useState({\r\n    pendingPlaces: 0,\r\n    approvedPlaces: 0,\r\n    pendingEvents: 0,\r\n    approvedEvents: 0,\r\n    recentPlaces: [],\r\n  });\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      // Optionally, navigate to the login page if no token is found:\r\n      // navigate('/vendor/login') or show an error message.\r\n      return;\r\n    }\r\n    axiosInstance\r\n      .get(\"/vendor/dashboard\")\r\n      .then((res) => {\r\n        setStats((prev) => ({ ...prev, ...res.data }));\r\n      })\r\n      .catch((err) => {\r\n        console.error(\"Vendor dashboard error:\", err);\r\n        // Optionally, show a user-friendly message if needed:\r\n        // Swal.fire(\"Error\", \"Could not load vendor dashboard\", \"error\");\r\n      });\r\n  }, []);\r\n  \r\n  return (\r\n    <div className=\"vendor-page\">\r\n      <VendorSidebar onLogout={() => {/* clear user state via context logout */}} />\r\n      <div className=\"vendor-content\">\r\n        <h1>Welcome, Vendor!</h1>\r\n\r\n        <div className=\"vd-stats\">\r\n          <div className=\"vd-card pending\">\r\n            <h2>{stats.pendingPlaces}</h2>\r\n            <p>Places Pending</p>\r\n          </div>\r\n          <div className=\"vd-card approved\">\r\n            <h2>{stats.approvedPlaces}</h2>\r\n            <p>Places Approved</p>\r\n          </div>\r\n          <div className=\"vd-card pending\">\r\n            <h2>{stats.pendingEvents}</h2>\r\n            <p>Events Pending</p>\r\n          </div>\r\n          <div className=\"vd-card approved\">\r\n            <h2>{stats.approvedEvents}</h2>\r\n            <p>Events Approved</p>\r\n          </div>\r\n        </div>\r\n\r\n        <section className=\"vd-recent\">\r\n          <h2>Recent Places</h2>\r\n          {stats.recentPlaces.length === 0 ? (\r\n            <p>No places yet.</p>\r\n          ) : (\r\n            <ul>\r\n              {stats.recentPlaces.map((place) => (\r\n                <li key={place._id}>\r\n                  <Link to={`/vendor/places/${place._id}`}>\r\n                    {place.title}\r\n                  </Link>\r\n                  <span className={`status ${place.status}`}>\r\n                    {place.status}\r\n                  </span>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          )}\r\n        </section>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}