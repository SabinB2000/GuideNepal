{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{LoadScript,GoogleMap,Marker}from\"@react-google-maps/api\";import\"../styles/Recommended.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API=process.env.REACT_APP_API_URL||\"http://localhost:5000/api\";const GMAP_KEY=process.env.REACT_APP_GOOGLE_MAPS_API_KEY;const mapStyle={width:\"100%\",height:\"350px\"};export default function Recommended(){const[list,setList]=useState([]);const[userLoc,setLoc]=useState({lat:27.7172,lng:85.324});const[loading,setLoading]=useState(true);useEffect(()=>{axios.get(\"\".concat(API,\"/places/recommended?limit=10\")).then(r=>setList(r.data)).catch(console.error).finally(()=>setLoading(false));if(navigator.geolocation){navigator.geolocation.getCurrentPosition(p=>setLoc({lat:p.coords.latitude,lng:p.coords.longitude}),()=>{});}},[]);if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading\\u2026\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"recommended-page\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Recommended Places\"}),/*#__PURE__*/_jsx(\"div\",{className:\"cards-grid\",children:list.map(p=>/*#__PURE__*/_jsxs(\"div\",{className:\"rec-card\",children:[p.imageUrl&&/*#__PURE__*/_jsx(\"img\",{src:p.imageUrl,alt:p.name}),/*#__PURE__*/_jsx(\"h3\",{children:p.name}),/*#__PURE__*/_jsx(\"p\",{children:p.category}),/*#__PURE__*/_jsx(\"p\",{className:\"desc\",children:p.description})]},p._id))}),/*#__PURE__*/_jsx(LoadScript,{googleMapsApiKey:GMAP_KEY,children:/*#__PURE__*/_jsxs(GoogleMap,{mapContainerStyle:mapStyle,center:userLoc,zoom:10,children:[/*#__PURE__*/_jsx(Marker,{position:userLoc,icon:{url:\"https://maps.google.com/mapfiles/ms/icons/blue-dot.png\"}}),list.map(p=>/*#__PURE__*/_jsx(Marker,{position:{lat:p.latitude,lng:p.longitude},title:p.name},p._id))]})})]});}","map":{"version":3,"names":["React","useEffect","useState","axios","LoadScript","GoogleMap","Marker","jsx","_jsx","jsxs","_jsxs","API","process","env","REACT_APP_API_URL","GMAP_KEY","REACT_APP_GOOGLE_MAPS_API_KEY","mapStyle","width","height","Recommended","list","setList","userLoc","setLoc","lat","lng","loading","setLoading","get","concat","then","r","data","catch","console","error","finally","navigator","geolocation","getCurrentPosition","p","coords","latitude","longitude","className","children","map","imageUrl","src","alt","name","category","description","_id","googleMapsApiKey","mapContainerStyle","center","zoom","position","icon","url","title"],"sources":["C:/Users/sabin/OneDrive/Desktop/GUIDE NEAPL/GuideNepal/client/src/pages/Recommended.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { LoadScript, GoogleMap, Marker } from \"@react-google-maps/api\";\r\nimport \"../styles/Recommended.css\";\r\n\r\nconst API = process.env.REACT_APP_API_URL || \"http://localhost:5000/api\";\r\nconst GMAP_KEY = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\r\nconst mapStyle = { width:\"100%\", height:\"350px\" };\r\n\r\nexport default function Recommended() {\r\n  const [list, setList]   = useState([]);\r\n  const [userLoc, setLoc] = useState({ lat:27.7172, lng:85.324 });\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    axios.get(`${API}/places/recommended?limit=10`)\r\n      .then(r=> setList(r.data))\r\n      .catch(console.error)\r\n      .finally(()=>setLoading(false));\r\n\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(\r\n        p=> setLoc({ lat:p.coords.latitude, lng:p.coords.longitude }),\r\n        ()=>{}\r\n      );\r\n    }\r\n  }, []);\r\n\r\n  if (loading) return <div className=\"loading\">Loadingâ€¦</div>;\r\n\r\n  return (\r\n    <div className=\"recommended-page\">\r\n      <h1>Recommended Places</h1>\r\n      <div className=\"cards-grid\">\r\n        {list.map(p => (\r\n          <div key={p._id} className=\"rec-card\">\r\n            {p.imageUrl && <img src={p.imageUrl} alt={p.name} />}\r\n            <h3>{p.name}</h3>\r\n            <p>{p.category}</p>\r\n            <p className=\"desc\">{p.description}</p>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <LoadScript googleMapsApiKey={GMAP_KEY}>\r\n        <GoogleMap mapContainerStyle={mapStyle} center={userLoc} zoom={10}>\r\n          <Marker position={userLoc} icon={{ url:\"https://maps.google.com/mapfiles/ms/icons/blue-dot.png\" }}/>\r\n          {list.map(p => (\r\n            <Marker\r\n              key={p._id}\r\n              position={{ lat:p.latitude, lng:p.longitude }}\r\n              title={p.name}\r\n            />\r\n          ))}\r\n        </GoogleMap>\r\n      </LoadScript>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}