{"ast":null,"code":"// src/components/AdminEventForm.js\nimport React,{useState}from'react';import axiosInstance from'../utils/axiosConfig';import'../styles/AdminEventForm.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminEventForm=_ref=>{let{event,onSuccess,onCancel}=_ref;// Pre-fill fields if editing\nconst[title,setTitle]=useState(event?event.title:'');const[description,setDescription]=useState(event?event.description:'');const[date,setDate]=useState(event?event.date.split(\"T\")[0]:'');// ISO format date, split to get yyyy-mm-dd\nconst[location,setLocation]=useState(event?event.location:'');const[error,setError]=useState('');const handleSubmit=async e=>{e.preventDefault();const payload={title,description,date,location};try{if(event){// Update existing event\nawait axiosInstance.put(\"/admin/events/\".concat(event._id),payload);}else{// Create new event\nawait axiosInstance.post('/admin/events',payload);}onSuccess();}catch(err){console.error(\"Error saving event:\",err);setError(\"Error saving event.\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"event-form-modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"event-form-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:event?'Edit Event':'Add New Event'}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-text\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Title:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:title,onChange:e=>setTitle(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description:\"}),/*#__PURE__*/_jsx(\"textarea\",{value:description,onChange:e=>setDescription(e.target.value),rows:3})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Date:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:date,onChange:e=>setDate(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Location:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:location,onChange:e=>setLocation(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:event?'Update Event':'Create Event'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:onCancel,children:\"Cancel\"})]})]})]})});};export default AdminEventForm;","map":{"version":3,"names":["React","useState","axiosInstance","jsx","_jsx","jsxs","_jsxs","AdminEventForm","_ref","event","onSuccess","onCancel","title","setTitle","description","setDescription","date","setDate","split","location","setLocation","error","setError","handleSubmit","e","preventDefault","payload","put","concat","_id","post","err","console","className","children","onSubmit","type","value","onChange","target","required","rows","onClick"],"sources":["C:/Users/sabin/OneDrive/Desktop/GUIDE NEAPL/GuideNepal/client/src/components/AdminEventForm.js"],"sourcesContent":["// src/components/AdminEventForm.js\r\nimport React, { useState } from 'react';\r\nimport axiosInstance from '../utils/axiosConfig';\r\nimport '../styles/AdminEventForm.css';\r\n\r\nconst AdminEventForm = ({ event, onSuccess, onCancel }) => {\r\n  // Pre-fill fields if editing\r\n  const [title, setTitle] = useState(event ? event.title : '');\r\n  const [description, setDescription] = useState(event ? event.description : '');\r\n  const [date, setDate] = useState(event ? event.date.split(\"T\")[0] : ''); // ISO format date, split to get yyyy-mm-dd\r\n  const [location, setLocation] = useState(event ? event.location : '');\r\n  const [error, setError] = useState('');\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const payload = { title, description, date, location };\r\n\r\n    try {\r\n      if (event) {\r\n        // Update existing event\r\n        await axiosInstance.put(`/admin/events/${event._id}`, payload);\r\n      } else {\r\n        // Create new event\r\n        await axiosInstance.post('/admin/events', payload);\r\n      }\r\n      onSuccess();\r\n    } catch (err) {\r\n      console.error(\"Error saving event:\", err);\r\n      setError(\"Error saving event.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"event-form-modal\">\r\n      <div className=\"event-form-container\">\r\n        <h2>{event ? 'Edit Event' : 'Add New Event'}</h2>\r\n        {error && <p className=\"error-text\">{error}</p>}\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <label>Title:</label>\r\n            <input \r\n              type=\"text\" \r\n              value={title}\r\n              onChange={(e) => setTitle(e.target.value)}\r\n              required \r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Description:</label>\r\n            <textarea \r\n              value={description}\r\n              onChange={(e) => setDescription(e.target.value)}\r\n              rows={3}\r\n            ></textarea>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Date:</label>\r\n            <input \r\n              type=\"date\" \r\n              value={date}\r\n              onChange={(e) => setDate(e.target.value)}\r\n              required \r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Location:</label>\r\n            <input \r\n              type=\"text\" \r\n              value={location}\r\n              onChange={(e) => setLocation(e.target.value)}\r\n              required \r\n            />\r\n          </div>\r\n          <div className=\"form-actions\">\r\n            <button type=\"submit\" className=\"btn btn-primary\">\r\n              {event ? 'Update Event' : 'Create Event'}\r\n            </button>\r\n            <button type=\"button\" className=\"btn btn-secondary\" onClick={onCancel}>\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminEventForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}