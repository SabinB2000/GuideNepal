{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import Swal from\"sweetalert2\";import{FiUser,FiLogIn,FiLogOut,FiMenu}from\"react-icons/fi\";import Sidebar from\"./Sidebar\";import AuthForm from\"./AuthForm\";import\"../styles/Navbar.css\";import logo from\"../assets/logo.png\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Navbar(_ref){let{openAuth}=_ref;const[showAuth,setShowAuth]=useState(false);const[user,setUser]=useState(null);const[scrolled,setScrolled]=useState(false);const[mobileMenuOpen,setMobileMenuOpen]=useState(false);const navigate=useNavigate();// Load user from localStorage on mount\nuseEffect(()=>{const token=localStorage.getItem(\"token\");const storedUser=localStorage.getItem(\"user\");if(token&&storedUser){setUser(JSON.parse(storedUser));}},[]);// Add scroll effect\nuseEffect(()=>{const handleScroll=()=>{const isScrolled=window.scrollY>10;if(isScrolled!==scrolled){setScrolled(isScrolled);}};document.addEventListener('scroll',handleScroll);return()=>document.removeEventListener('scroll',handleScroll);},[scrolled]);const handleLogout=()=>{Swal.fire({title:\"Logged Out!\",text:\"You have been logged out successfully.\",icon:\"info\",timer:1500,showConfirmButton:false,background:'#2d3436',color:'#fff'}).then(()=>{localStorage.removeItem(\"token\");localStorage.removeItem(\"user\");setUser(null);navigate(\"/\");});};const toggleMobileMenu=()=>{setMobileMenuOpen(!mobileMenuOpen);};return/*#__PURE__*/_jsxs(_Fragment,{children:[user?/*#__PURE__*/_jsx(Sidebar,{user:user,handleLogout:handleLogout}):/*#__PURE__*/_jsx(\"nav\",{className:\"navbar \".concat(scrolled?'navbar--scrolled':''),children:/*#__PURE__*/_jsxs(\"div\",{className:\"navbar__container\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"navbar__logo\",onClick:()=>window.scrollTo({top:0,behavior:\"smooth\"}),children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Guide Nepal Logo\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Guide Nepal\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"navbar__links \".concat(mobileMenuOpen?'navbar__links--open':''),children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"navbar__link\",onClick:()=>setMobileMenuOpen(false),children:\"Home\"}),/*#__PURE__*/_jsx(Link,{to:\"/destinations\",className:\"navbar__link\",onClick:()=>setMobileMenuOpen(false),children:\"Destinations\"}),/*#__PURE__*/_jsx(Link,{to:\"/about\",className:\"navbar__link\",onClick:()=>setMobileMenuOpen(false),children:\"About Us\"}),/*#__PURE__*/_jsx(Link,{to:\"/contact\",className:\"navbar__link\",onClick:()=>setMobileMenuOpen(false),children:\"Contact\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"navbar__actions\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"navbar__auth-btn\",onClick:openAuth,children:[/*#__PURE__*/_jsx(FiLogIn,{className:\"navbar__icon\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Login / Signup\"})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar__mobile-menu\",onClick:toggleMobileMenu,children:/*#__PURE__*/_jsx(FiMenu,{})})]})}),showAuth&&/*#__PURE__*/_jsx(AuthForm,{closeAuth:()=>{setShowAuth(false);const stored=localStorage.getItem(\"user\");if(stored)setUser(JSON.parse(stored));},setUser:setUser})]});}","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","Swal","FiUser","FiLogIn","FiLogOut","FiMenu","Sidebar","AuthForm","logo","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navbar","_ref","openAuth","showAuth","setShowAuth","user","setUser","scrolled","setScrolled","mobileMenuOpen","setMobileMenuOpen","navigate","token","localStorage","getItem","storedUser","JSON","parse","handleScroll","isScrolled","window","scrollY","document","addEventListener","removeEventListener","handleLogout","fire","title","text","icon","timer","showConfirmButton","background","color","then","removeItem","toggleMobileMenu","children","className","concat","to","onClick","scrollTo","top","behavior","src","alt","closeAuth","stored"],"sources":["C:/Users/sabin/OneDrive/Desktop/GUIDE NEAPL/GuideNepal/client/src/components/Navbar.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\";\r\nimport { FiUser, FiLogIn, FiLogOut, FiMenu } from \"react-icons/fi\";\r\nimport Sidebar from \"./Sidebar\";\r\nimport AuthForm from \"./AuthForm\";\r\nimport \"../styles/Navbar.css\";\r\nimport logo from \"../assets/logo.png\";\r\n\r\nexport default function Navbar({ openAuth }) {\r\n  const [showAuth, setShowAuth] = useState(false);\r\n  const [user, setUser] = useState(null);\r\n  const [scrolled, setScrolled] = useState(false);\r\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  // Load user from localStorage on mount\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n    const storedUser = localStorage.getItem(\"user\");\r\n    if (token && storedUser) {\r\n      setUser(JSON.parse(storedUser));\r\n    }\r\n  }, []);\r\n\r\n  // Add scroll effect\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      const isScrolled = window.scrollY > 10;\r\n      if (isScrolled !== scrolled) {\r\n        setScrolled(isScrolled);\r\n      }\r\n    };\r\n    \r\n    document.addEventListener('scroll', handleScroll);\r\n    return () => document.removeEventListener('scroll', handleScroll);\r\n  }, [scrolled]);\r\n\r\n  const handleLogout = () => {\r\n    Swal.fire({\r\n      title: \"Logged Out!\",\r\n      text: \"You have been logged out successfully.\",\r\n      icon: \"info\",\r\n      timer: 1500,\r\n      showConfirmButton: false,\r\n      background: '#2d3436',\r\n      color: '#fff'\r\n    }).then(() => {\r\n      localStorage.removeItem(\"token\");\r\n      localStorage.removeItem(\"user\");\r\n      setUser(null);\r\n      navigate(\"/\");\r\n    });\r\n  };\r\n\r\n  const toggleMobileMenu = () => {\r\n    setMobileMenuOpen(!mobileMenuOpen);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {user ? (\r\n        <Sidebar user={user} handleLogout={handleLogout} />\r\n      ) : (\r\n        <nav className={`navbar ${scrolled ? 'navbar--scrolled' : ''}`}>\r\n          <div className=\"navbar__container\">\r\n            <Link\r\n              to=\"/\"\r\n              className=\"navbar__logo\"\r\n              onClick={() => window.scrollTo({ top: 0, behavior: \"smooth\" })}\r\n            >\r\n              <img src={logo} alt=\"Guide Nepal Logo\" />\r\n              <span>Guide Nepal</span>\r\n            </Link>\r\n\r\n            <div className={`navbar__links ${mobileMenuOpen ? 'navbar__links--open' : ''}`}>\r\n              <Link to=\"/\" className=\"navbar__link\" onClick={() => setMobileMenuOpen(false)}>\r\n                Home\r\n              </Link>\r\n              <Link to=\"/destinations\" className=\"navbar__link\" onClick={() => setMobileMenuOpen(false)}>\r\n                Destinations\r\n              </Link>\r\n              <Link to=\"/about\" className=\"navbar__link\" onClick={() => setMobileMenuOpen(false)}>\r\n                About Us\r\n              </Link>\r\n              <Link to=\"/contact\" className=\"navbar__link\" onClick={() => setMobileMenuOpen(false)}>\r\n                Contact\r\n              </Link>\r\n            </div>\r\n\r\n            <div className=\"navbar__actions\">\r\n              <button\r\n                className=\"navbar__auth-btn\"\r\n                onClick={openAuth}\r\n              >\r\n                <FiLogIn className=\"navbar__icon\" />\r\n                <span>Login / Signup</span>\r\n              </button>\r\n            </div>\r\n\r\n            <button className=\"navbar__mobile-menu\" onClick={toggleMobileMenu}>\r\n              <FiMenu />\r\n            </button>\r\n          </div>\r\n        </nav>\r\n      )}\r\n\r\n      {showAuth && (\r\n        <AuthForm\r\n          closeAuth={() => {\r\n            setShowAuth(false);\r\n            const stored = localStorage.getItem(\"user\");\r\n            if (stored) setUser(JSON.parse(stored));\r\n          }}\r\n          setUser={setUser}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}