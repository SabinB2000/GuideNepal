{"ast":null,"code":"import _objectSpread from\"C:/Users/sabin/OneDrive/Desktop/GUIDE NEAPL/GuideNepal/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"C:/Users/sabin/OneDrive/Desktop/GUIDE NEAPL/GuideNepal/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";const _excluded=[\"accessKey\",\"query\",\"slides\",\"className\",\"showDescriptions\",\"description\"];import React,{useState,useEffect}from\"react\";import axios from\"axios\";import\"../styles/ImageSlider.css\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function ImageSlider(_ref){let{accessKey,query,slides=5,className=\"\",showDescriptions=false,description=\"\"}=_ref,props=_objectWithoutProperties(_ref,_excluded);const[images,setImages]=useState([]);const[current,setCurrent]=useState(0);// 1) Fetch images on mount\nuseEffect(()=>{let isMounted=true;axios.get(\"https://api.unsplash.com/search/photos\",{params:{query,per_page:slides},headers:{Authorization:\"Client-ID \".concat(accessKey)}}).then(res=>{if(isMounted){const urls=res.data.results.map(r=>r.urls.regular);setImages(urls);}}).catch(err=>{console.error(\"Unsplash fetch error:\",err);});return()=>{isMounted=false;};},[accessKey,query,slides]);// 2) Auto‑advance every 3 seconds\nuseEffect(()=>{if(images.length<2)return;const interval=setInterval(()=>{setCurrent(c=>(c+1)%images.length);},3000);return()=>clearInterval(interval);},[images]);if(!images.length){return/*#__PURE__*/_jsx(\"div\",{className:\"image-slider placeholder \".concat(className),children:\"Loading...\"});}return/*#__PURE__*/_jsx(\"div\",_objectSpread(_objectSpread({className:\"image-slider \".concat(className)},props),{},{children:images.map((img,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"slide \".concat(index===current?\"active\":\"\"),style:{backgroundImage:\"url(\".concat(img,\")\")},children:showDescriptions&&description&&index===current&&/*#__PURE__*/_jsx(\"div\",{className:\"image-description\",children:description})},index))}));}","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","ImageSlider","_ref","accessKey","query","slides","className","showDescriptions","description","props","_objectWithoutProperties","_excluded","images","setImages","current","setCurrent","isMounted","get","params","per_page","headers","Authorization","concat","then","res","urls","data","results","map","r","regular","catch","err","console","error","length","interval","setInterval","c","clearInterval","children","_objectSpread","img","index","style","backgroundImage"],"sources":["C:/Users/sabin/OneDrive/Desktop/GUIDE NEAPL/GuideNepal/client/src/components/ImageSlider.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"../styles/ImageSlider.css\";\r\n\r\nexport default function ImageSlider({\r\n  accessKey,\r\n  query,\r\n  slides = 5,\r\n  className = \"\",\r\n  showDescriptions = false,\r\n  description = \"\",\r\n  ...props\r\n}) {\r\n  const [images, setImages] = useState([]);\r\n  const [current, setCurrent] = useState(0);\r\n\r\n  // 1) Fetch images on mount\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n    axios\r\n      .get(\"https://api.unsplash.com/search/photos\", {\r\n        params: { query, per_page: slides },\r\n        headers: { Authorization: `Client-ID ${accessKey}` },\r\n      })\r\n      .then((res) => {\r\n        if (isMounted) {\r\n          const urls = res.data.results.map((r) => r.urls.regular);\r\n          setImages(urls);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.error(\"Unsplash fetch error:\", err);\r\n      });\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, [accessKey, query, slides]);\r\n\r\n  // 2) Auto‑advance every 3 seconds\r\n  useEffect(() => {\r\n    if (images.length < 2) return;\r\n    const interval = setInterval(() => {\r\n      setCurrent((c) => (c + 1) % images.length);\r\n    }, 3000);\r\n    return () => clearInterval(interval);\r\n  }, [images]);\r\n\r\n  if (!images.length) {\r\n    return <div className={`image-slider placeholder ${className}`}>Loading...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className={`image-slider ${className}`} {...props}>\r\n      {images.map((img, index) => (\r\n        <div\r\n          key={index}\r\n          className={`slide ${index === current ? \"active\" : \"\"}`}\r\n          style={{ backgroundImage: `url(${img})` }}\r\n        >\r\n          {showDescriptions && description && index === current && (\r\n            <div className=\"image-description\">{description}</div>\r\n          )}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}